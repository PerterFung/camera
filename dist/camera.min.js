"use strict";function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,a){for(var r=0;r<a.length;r++){var t=a[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,r,t){return r&&e(a.prototype,r),t&&e(a,t),a}}(),Camera=function(){function e(a,r){_classCallCheck(this,e),this.$el=document.getElementById(a),this.mediaStreamTrack=null,this.userSuccessCallback=r.successCallback,this.userErrorCallback=r.errorCallback}return _createClass(e,[{key:"init",value:function(){var e=this,a=this.windowUrl(),r=this.getUserMedia(),t=function(a){console.log(a),e.userErrorCallback&&e.userErrorCallback(a)},n=function(r){e.mediaStreamTrack=r.getTracks()[0],e.$el.src=a.createObjectURL(r),e.userSuccessCallback&&e.userSuccessCallback()};try{r({video:!0},n,t)}catch(e){r("video",n,t)}}},{key:"destroy",value:function(){this.mediaStreamTrack&&this.mediaStreamTrack.stop(),this.$el.src=""}},{key:"windowUrl",value:function(){return window.URL||window.webkitURL||window.msURL||window.oURL}},{key:"getUserMedia",value:function(){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return function(a,r,t){e.call(navigator,a,r,t)}}}]),e}();