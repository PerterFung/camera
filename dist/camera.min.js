"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();!function(){var e=/([\:\-\_]+(.))/g,t=/^moz([A-Z])/,r=function(r){return r.replace(e,function(e,t,r,o){return o?r.toUpperCase():r}).replace(t,"Moz$1")},o=(new Number(document.documentMode),function(){function e(t,r){_classCallCheck(this,e),this.$el=document.getElementById(t),this.mediaStreamTrack=null,this.userSuccessCallback=r.successCallback,this.userErrorCallback=r.errorCallback}return _createClass(e,[{key:"init",value:function(){var e=this,t=this.windowUrl(),r=this.getUserMedia(),o=function(t){console.log(t),e.userErrorCallback&&e.userErrorCallback(t)},n=function(r){e.mediaStreamTrack=r.getTracks()[0],e.$el.src=t.createObjectURL(r),e.userSuccessCallback&&e.userSuccessCallback()};try{r({video:!0},n,o)}catch(e){r("video",n,o)}}},{key:"destroy",value:function(){this.mediaStreamTrack&&this.mediaStreamTrack.stop(),this.$el.src=""}},{key:"shoot",value:function(e){}},{key:"windowUrl",value:function(){return window.URL||window.webkitURL||window.msURL||window.oURL}},{key:"getUserMedia",value:function(){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return function(t,r,o){e.call(navigator,t,r,o)}}}]),e}());"undefined"!=typeof module&&"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=o:window.Camera=o}();